<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.9.2"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>O2: Low-Level Message Send</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectlogo"><img alt="Logo" src="o2.png"/></td>
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">O2<span id="projectnumber">&#160;2.0</span>
   </div>
   <div id="projectbrief">A communication protocol for interactive music and media applications.</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.2 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search",'Search','.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
</div><!-- top -->
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="summary">
<a href="#define-members">Macros</a> &#124;
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle"><div class="title">Low-Level Message Send</div></div>
</div><!--header-->
<div class="contents">
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="define-members" name="define-members"></a>
Macros</h2></td></tr>
<tr class="memitem:ga34765182be477f10f5c47ac97859043a"><td class="memItemLeft" align="right" valign="top"><a id="ga34765182be477f10f5c47ac97859043a" name="ga34765182be477f10f5c47ac97859043a"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><b>o2_add_symbol</b>(s)&#160;&#160;&#160;<a class="el" href="group__lowlevelsend.html#gad19448d08ef64fb15f64cba74aa461fb">o2_add_string_or_symbol</a>(<a class="el" href="group__basics.html#gga19ed1e45bd9c566270c0836d9ec95155ad1e4a9e86d6650d94fe60560a65810c6">O2_SYMBOL</a>, s)</td></tr>
<tr class="memdesc:ga34765182be477f10f5c47ac97859043a"><td class="mdescLeft">&#160;</td><td class="mdescRight">add a symbol to the message (see <a class="el" href="group__lowlevelsend.html#ga238373397ff33181587651db5b8c7ec5" title="Prepare to build a message.">o2_send_start</a>) <br /></td></tr>
<tr class="separator:ga34765182be477f10f5c47ac97859043a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga67312a94d93ffa8c381887a655b41efc"><td class="memItemLeft" align="right" valign="top"><a id="ga67312a94d93ffa8c381887a655b41efc" name="ga67312a94d93ffa8c381887a655b41efc"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><b>o2_add_string</b>(s)&#160;&#160;&#160;<a class="el" href="group__lowlevelsend.html#gad19448d08ef64fb15f64cba74aa461fb">o2_add_string_or_symbol</a>(<a class="el" href="group__basics.html#gga19ed1e45bd9c566270c0836d9ec95155afb51c29c1efbe3794953c0cdfe180a5b">O2_STRING</a>, s)</td></tr>
<tr class="memdesc:ga67312a94d93ffa8c381887a655b41efc"><td class="mdescLeft">&#160;</td><td class="mdescRight">add a string to the message (see <a class="el" href="group__lowlevelsend.html#ga238373397ff33181587651db5b8c7ec5" title="Prepare to build a message.">o2_send_start</a>) <br /></td></tr>
<tr class="separator:ga67312a94d93ffa8c381887a655b41efc"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gabe652dd70d04a0a96719c3ecafe48c10"><td class="memItemLeft" align="right" valign="top"><a id="gabe652dd70d04a0a96719c3ecafe48c10" name="gabe652dd70d04a0a96719c3ecafe48c10"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><b>o2_add_double</b>(d)&#160;&#160;&#160;<a class="el" href="group__lowlevelsend.html#gacbb0200e80da2be7bc1669f4017d4a29">o2_add_double_or_time</a>(<a class="el" href="group__basics.html#gga19ed1e45bd9c566270c0836d9ec95155a55a97103f771efb8d069ce96f1f3aae2">O2_DOUBLE</a>, d)</td></tr>
<tr class="memdesc:gabe652dd70d04a0a96719c3ecafe48c10"><td class="mdescLeft">&#160;</td><td class="mdescRight">add a <code>double</code> to the message (see <a class="el" href="group__lowlevelsend.html#ga238373397ff33181587651db5b8c7ec5" title="Prepare to build a message.">o2_send_start</a>) <br /></td></tr>
<tr class="separator:gabe652dd70d04a0a96719c3ecafe48c10"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gadd2ddd3f74c78e6017efb8074f2a97da"><td class="memItemLeft" align="right" valign="top"><a id="gadd2ddd3f74c78e6017efb8074f2a97da" name="gadd2ddd3f74c78e6017efb8074f2a97da"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><b>o2_add_time</b>(t)&#160;&#160;&#160;<a class="el" href="group__lowlevelsend.html#gacbb0200e80da2be7bc1669f4017d4a29">o2_add_double_or_time</a>(<a class="el" href="group__basics.html#gga19ed1e45bd9c566270c0836d9ec95155a620275e0ad74e722a7bbeaaaeed7c485">O2_TIME</a>, t)</td></tr>
<tr class="memdesc:gadd2ddd3f74c78e6017efb8074f2a97da"><td class="mdescLeft">&#160;</td><td class="mdescRight">add a time (<code>double</code>) to the message (see <a class="el" href="group__lowlevelsend.html#ga238373397ff33181587651db5b8c7ec5" title="Prepare to build a message.">o2_send_start</a>) <br /></td></tr>
<tr class="separator:gadd2ddd3f74c78e6017efb8074f2a97da"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga67cc4cb3061d887e10d353cde06153a8"><td class="memItemLeft" align="right" valign="top"><a id="ga67cc4cb3061d887e10d353cde06153a8" name="ga67cc4cb3061d887e10d353cde06153a8"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><b>o2_add_int32</b>(i)&#160;&#160;&#160;<a class="el" href="group__lowlevelsend.html#gae3967c1eae0cdd47ab0c37be0ba9519e">o2_add_int32_or_char</a>(<a class="el" href="group__basics.html#gga19ed1e45bd9c566270c0836d9ec95155a7a4c57b8137f8280de6cdd1bb1951c12">O2_INT32</a>, i)</td></tr>
<tr class="memdesc:ga67cc4cb3061d887e10d353cde06153a8"><td class="mdescLeft">&#160;</td><td class="mdescRight">add an <code>int32</code> to the message (see <a class="el" href="group__lowlevelsend.html#ga238373397ff33181587651db5b8c7ec5" title="Prepare to build a message.">o2_send_start</a>) <br /></td></tr>
<tr class="separator:ga67cc4cb3061d887e10d353cde06153a8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga26c1b21c76eadfe636c10d4395f29577"><td class="memItemLeft" align="right" valign="top"><a id="ga26c1b21c76eadfe636c10d4395f29577" name="ga26c1b21c76eadfe636c10d4395f29577"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><b>o2_add_char</b>(c)&#160;&#160;&#160;<a class="el" href="group__lowlevelsend.html#gae3967c1eae0cdd47ab0c37be0ba9519e">o2_add_int32_or_char</a>(<a class="el" href="group__basics.html#gga19ed1e45bd9c566270c0836d9ec95155a68ce15f9ecf7e16ecdff2ca586d194ff">O2_CHAR</a>, c)</td></tr>
<tr class="memdesc:ga26c1b21c76eadfe636c10d4395f29577"><td class="mdescLeft">&#160;</td><td class="mdescRight">add a <code>char</code> to the message (see <a class="el" href="group__lowlevelsend.html#ga238373397ff33181587651db5b8c7ec5" title="Prepare to build a message.">o2_send_start</a>) <br /></td></tr>
<tr class="separator:ga26c1b21c76eadfe636c10d4395f29577"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga23dfc0a19d8b2f13ea9129fe4b579ff3"><td class="memItemLeft" align="right" valign="top"><a id="ga23dfc0a19d8b2f13ea9129fe4b579ff3" name="ga23dfc0a19d8b2f13ea9129fe4b579ff3"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><b>o2_add_true</b>()&#160;&#160;&#160;<a class="el" href="group__lowlevelsend.html#ga8a34f89e1fda43b8eb58603909111dda">o2_add_only_typecode</a>(<a class="el" href="group__basics.html#gga19ed1e45bd9c566270c0836d9ec95155a1f0e8a8c2b8210393c50edf1b59f0f4a">O2_TRUE</a>);</td></tr>
<tr class="memdesc:ga23dfc0a19d8b2f13ea9129fe4b579ff3"><td class="mdescLeft">&#160;</td><td class="mdescRight">add "true" to the message (see <a class="el" href="group__lowlevelsend.html#ga238373397ff33181587651db5b8c7ec5" title="Prepare to build a message.">o2_send_start</a>) <br /></td></tr>
<tr class="separator:ga23dfc0a19d8b2f13ea9129fe4b579ff3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gaad6834ff5891ab1a2a2bb22e83aca551"><td class="memItemLeft" align="right" valign="top"><a id="gaad6834ff5891ab1a2a2bb22e83aca551" name="gaad6834ff5891ab1a2a2bb22e83aca551"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><b>o2_add_false</b>()&#160;&#160;&#160;<a class="el" href="group__lowlevelsend.html#ga8a34f89e1fda43b8eb58603909111dda">o2_add_only_typecode</a>(<a class="el" href="group__basics.html#gga19ed1e45bd9c566270c0836d9ec95155a1ae420af9879c921626c652a9c6c08fb">O2_FALSE</a>);</td></tr>
<tr class="memdesc:gaad6834ff5891ab1a2a2bb22e83aca551"><td class="mdescLeft">&#160;</td><td class="mdescRight">add a "false" to the message (see <a class="el" href="group__lowlevelsend.html#ga238373397ff33181587651db5b8c7ec5" title="Prepare to build a message.">o2_send_start</a>) <br /></td></tr>
<tr class="separator:gaad6834ff5891ab1a2a2bb22e83aca551"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gab7e18f3c5dd2e764fa3ce36dede1f750"><td class="memItemLeft" align="right" valign="top"><a id="gab7e18f3c5dd2e764fa3ce36dede1f750" name="gab7e18f3c5dd2e764fa3ce36dede1f750"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><b>o2_add_tf</b>(x)&#160;&#160;&#160;<a class="el" href="group__lowlevelsend.html#ga8a34f89e1fda43b8eb58603909111dda">o2_add_only_typecode</a>((x) != 0 ? <a class="el" href="group__basics.html#gga19ed1e45bd9c566270c0836d9ec95155a1f0e8a8c2b8210393c50edf1b59f0f4a">O2_TRUE</a> : <a class="el" href="group__basics.html#gga19ed1e45bd9c566270c0836d9ec95155a1ae420af9879c921626c652a9c6c08fb">O2_FALSE</a>)</td></tr>
<tr class="memdesc:gab7e18f3c5dd2e764fa3ce36dede1f750"><td class="mdescLeft">&#160;</td><td class="mdescRight">add a boolean typecode T or F (this differs from <code>o2_add_bool</code> which uses typecode B and adds a 0 or 1 as data) <br /></td></tr>
<tr class="separator:gab7e18f3c5dd2e764fa3ce36dede1f750"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gad0965309bd2c3f3573b48a905394690e"><td class="memItemLeft" align="right" valign="top"><a id="gad0965309bd2c3f3573b48a905394690e" name="gad0965309bd2c3f3573b48a905394690e"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><b>o2_add_bool</b>(x)&#160;&#160;&#160;<a class="el" href="group__lowlevelsend.html#gae3967c1eae0cdd47ab0c37be0ba9519e">o2_add_int32_or_char</a>(<a class="el" href="group__basics.html#gga19ed1e45bd9c566270c0836d9ec95155ac271ebf88f44f17c91291e46fc97e477">O2_BOOL</a>, (x) != 0)</td></tr>
<tr class="memdesc:gad0965309bd2c3f3573b48a905394690e"><td class="mdescLeft">&#160;</td><td class="mdescRight">add 0 (false) or 1 (true) to the message (see <a class="el" href="group__lowlevelsend.html#ga238373397ff33181587651db5b8c7ec5" title="Prepare to build a message.">o2_send_start</a>) <br /></td></tr>
<tr class="separator:gad0965309bd2c3f3573b48a905394690e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gadb3eece7cb9251bed8318f4b99969aa9"><td class="memItemLeft" align="right" valign="top"><a id="gadb3eece7cb9251bed8318f4b99969aa9" name="gadb3eece7cb9251bed8318f4b99969aa9"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><b>o2_add_nil</b>()&#160;&#160;&#160;<a class="el" href="group__lowlevelsend.html#ga8a34f89e1fda43b8eb58603909111dda">o2_add_only_typecode</a>(<a class="el" href="group__basics.html#gga19ed1e45bd9c566270c0836d9ec95155a97ff1cef0b98c5b58c976146bf2fb179">O2_NIL</a>);</td></tr>
<tr class="memdesc:gadb3eece7cb9251bed8318f4b99969aa9"><td class="mdescLeft">&#160;</td><td class="mdescRight">add "nil" to the message (see <a class="el" href="group__lowlevelsend.html#ga238373397ff33181587651db5b8c7ec5" title="Prepare to build a message.">o2_send_start</a>) <br /></td></tr>
<tr class="separator:gadb3eece7cb9251bed8318f4b99969aa9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gadc0a8f87c3ba9776ccf99d9a5907450b"><td class="memItemLeft" align="right" valign="top"><a id="gadc0a8f87c3ba9776ccf99d9a5907450b" name="gadc0a8f87c3ba9776ccf99d9a5907450b"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><b>o2_add_infinitum</b>()&#160;&#160;&#160;<a class="el" href="group__lowlevelsend.html#ga8a34f89e1fda43b8eb58603909111dda">o2_add_only_typecode</a>(<a class="el" href="group__basics.html#gga19ed1e45bd9c566270c0836d9ec95155a225f76ad8b11f51a5a9fb967edbe9723">O2_INFINITUM</a>);</td></tr>
<tr class="memdesc:gadc0a8f87c3ba9776ccf99d9a5907450b"><td class="mdescLeft">&#160;</td><td class="mdescRight">add "infinitum" to the message (see <a class="el" href="group__lowlevelsend.html#ga238373397ff33181587651db5b8c7ec5" title="Prepare to build a message.">o2_send_start</a>) <br /></td></tr>
<tr class="separator:gadc0a8f87c3ba9776ccf99d9a5907450b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gaa5751468ae1b8056afee045fd26e2fa6"><td class="memItemLeft" align="right" valign="top"><a id="gaa5751468ae1b8056afee045fd26e2fa6" name="gaa5751468ae1b8056afee045fd26e2fa6"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><b>o2_add_start_array</b>()&#160;&#160;&#160;<a class="el" href="group__lowlevelsend.html#ga8a34f89e1fda43b8eb58603909111dda">o2_add_only_typecode</a>(<a class="el" href="group__basics.html#gga19ed1e45bd9c566270c0836d9ec95155a8f64d150c7b66c5d56c037ca24574141">O2_ARRAY_START</a>);</td></tr>
<tr class="memdesc:gaa5751468ae1b8056afee045fd26e2fa6"><td class="mdescLeft">&#160;</td><td class="mdescRight">start adding an array <br /></td></tr>
<tr class="separator:gaa5751468ae1b8056afee045fd26e2fa6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gaf238cd841e9606c6fcd5ee2f346cf020"><td class="memItemLeft" align="right" valign="top"><a id="gaf238cd841e9606c6fcd5ee2f346cf020" name="gaf238cd841e9606c6fcd5ee2f346cf020"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><b>o2_add_end_array</b>()&#160;&#160;&#160;<a class="el" href="group__lowlevelsend.html#ga8a34f89e1fda43b8eb58603909111dda">o2_add_only_typecode</a>(<a class="el" href="group__basics.html#gga19ed1e45bd9c566270c0836d9ec95155a0ed7c5aa8b1e277236bf69b7af2dcc14">O2_ARRAY_END</a>);</td></tr>
<tr class="memdesc:gaf238cd841e9606c6fcd5ee2f346cf020"><td class="mdescLeft">&#160;</td><td class="mdescRight">finish adding an array <br /></td></tr>
<tr class="separator:gaf238cd841e9606c6fcd5ee2f346cf020"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="func-members" name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:gaf161821748da26ebc2d5d56df0b42c4e"><td class="memItemLeft" align="right" valign="top"><a class="el" href="struct_o2blob.html">O2blob_ptr</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__lowlevelsend.html#gaf161821748da26ebc2d5d56df0b42c4e">o2_blob_new</a> (uint32_t size)</td></tr>
<tr class="memdesc:gaf161821748da26ebc2d5d56df0b42c4e"><td class="mdescLeft">&#160;</td><td class="mdescRight">Allocate a blob.  <a href="group__lowlevelsend.html#gaf161821748da26ebc2d5d56df0b42c4e">More...</a><br /></td></tr>
<tr class="separator:gaf161821748da26ebc2d5d56df0b42c4e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga238373397ff33181587651db5b8c7ec5"><td class="memItemLeft" align="right" valign="top"><a class="el" href="group__returncodes.html#gae9a85a9a12082ae659af9d047d6d63c9">O2err</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__lowlevelsend.html#ga238373397ff33181587651db5b8c7ec5">o2_send_start</a> (void)</td></tr>
<tr class="memdesc:ga238373397ff33181587651db5b8c7ec5"><td class="mdescLeft">&#160;</td><td class="mdescRight">Prepare to build a message.  <a href="group__lowlevelsend.html#ga238373397ff33181587651db5b8c7ec5">More...</a><br /></td></tr>
<tr class="separator:ga238373397ff33181587651db5b8c7ec5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga9cae68ae6de44dbd6bb8d2f55b77c947"><td class="memItemLeft" align="right" valign="top"><a id="ga9cae68ae6de44dbd6bb8d2f55b77c947" name="ga9cae68ae6de44dbd6bb8d2f55b77c947"></a>
<a class="el" href="group__returncodes.html#gae9a85a9a12082ae659af9d047d6d63c9">O2err</a>&#160;</td><td class="memItemRight" valign="bottom"><b>o2_add_float</b> (float f)</td></tr>
<tr class="memdesc:ga9cae68ae6de44dbd6bb8d2f55b77c947"><td class="mdescLeft">&#160;</td><td class="mdescRight">add a <code>float</code> to the message (see <a class="el" href="group__lowlevelsend.html#ga238373397ff33181587651db5b8c7ec5" title="Prepare to build a message.">o2_send_start</a>) <br /></td></tr>
<tr class="separator:ga9cae68ae6de44dbd6bb8d2f55b77c947"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gad19448d08ef64fb15f64cba74aa461fb"><td class="memItemLeft" align="right" valign="top"><a id="gad19448d08ef64fb15f64cba74aa461fb" name="gad19448d08ef64fb15f64cba74aa461fb"></a>
<a class="el" href="group__returncodes.html#gae9a85a9a12082ae659af9d047d6d63c9">O2err</a>&#160;</td><td class="memItemRight" valign="bottom"><b>o2_add_string_or_symbol</b> (<a class="el" href="group__basics.html#ga19ed1e45bd9c566270c0836d9ec95155">O2type</a> tcode, const char *s)</td></tr>
<tr class="memdesc:gad19448d08ef64fb15f64cba74aa461fb"><td class="mdescLeft">&#160;</td><td class="mdescRight">This function suppports <a class="el" href="group__lowlevelsend.html#ga34765182be477f10f5c47ac97859043a" title="add a symbol to the message (see o2_send_start)">o2_add_symbol</a> and <a class="el" href="group__lowlevelsend.html#ga67312a94d93ffa8c381887a655b41efc" title="add a string to the message (see o2_send_start)">o2_add_string</a> Normally, you should not call this directly. <br /></td></tr>
<tr class="separator:gad19448d08ef64fb15f64cba74aa461fb"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gaf3c34ca82357fa56f6b6f4b4922593ee"><td class="memItemLeft" align="right" valign="top"><a id="gaf3c34ca82357fa56f6b6f4b4922593ee" name="gaf3c34ca82357fa56f6b6f4b4922593ee"></a>
<a class="el" href="group__returncodes.html#gae9a85a9a12082ae659af9d047d6d63c9">O2err</a>&#160;</td><td class="memItemRight" valign="bottom"><b>o2_add_blob</b> (<a class="el" href="struct_o2blob.html">O2blob_ptr</a> b)</td></tr>
<tr class="memdesc:gaf3c34ca82357fa56f6b6f4b4922593ee"><td class="mdescLeft">&#160;</td><td class="mdescRight">add an <code><a class="el" href="struct_o2blob.html" title="The structure for binary large object.">O2blob</a></code> to the message (see <a class="el" href="group__lowlevelsend.html#ga238373397ff33181587651db5b8c7ec5" title="Prepare to build a message.">o2_send_start</a>), where the blob is given as a pointer to an <a class="el" href="struct_o2blob.html" title="The structure for binary large object.">O2blob</a> object. <br /></td></tr>
<tr class="separator:gaf3c34ca82357fa56f6b6f4b4922593ee"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga638dc972d1a186e40b24b9065820ffaa"><td class="memItemLeft" align="right" valign="top"><a id="ga638dc972d1a186e40b24b9065820ffaa" name="ga638dc972d1a186e40b24b9065820ffaa"></a>
<a class="el" href="group__returncodes.html#gae9a85a9a12082ae659af9d047d6d63c9">O2err</a>&#160;</td><td class="memItemRight" valign="bottom"><b>o2_add_blob_data</b> (uint32_t size, void *data)</td></tr>
<tr class="memdesc:ga638dc972d1a186e40b24b9065820ffaa"><td class="mdescLeft">&#160;</td><td class="mdescRight">add an <code><a class="el" href="struct_o2blob.html" title="The structure for binary large object.">O2blob</a></code> to the message (see <a class="el" href="group__lowlevelsend.html#ga238373397ff33181587651db5b8c7ec5" title="Prepare to build a message.">o2_send_start</a>), where the blob is specified by a size and a data address. <br /></td></tr>
<tr class="separator:ga638dc972d1a186e40b24b9065820ffaa"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga87a46e12f23d448c59fa423290dc51eb"><td class="memItemLeft" align="right" valign="top"><a id="ga87a46e12f23d448c59fa423290dc51eb" name="ga87a46e12f23d448c59fa423290dc51eb"></a>
<a class="el" href="group__returncodes.html#gae9a85a9a12082ae659af9d047d6d63c9">O2err</a>&#160;</td><td class="memItemRight" valign="bottom"><b>o2_add_int64</b> (int64_t i)</td></tr>
<tr class="memdesc:ga87a46e12f23d448c59fa423290dc51eb"><td class="mdescLeft">&#160;</td><td class="mdescRight">add an <code>int64</code> to the message (see <a class="el" href="group__lowlevelsend.html#ga238373397ff33181587651db5b8c7ec5" title="Prepare to build a message.">o2_send_start</a>) <br /></td></tr>
<tr class="separator:ga87a46e12f23d448c59fa423290dc51eb"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gacbb0200e80da2be7bc1669f4017d4a29"><td class="memItemLeft" align="right" valign="top"><a id="gacbb0200e80da2be7bc1669f4017d4a29" name="gacbb0200e80da2be7bc1669f4017d4a29"></a>
<a class="el" href="group__returncodes.html#gae9a85a9a12082ae659af9d047d6d63c9">O2err</a>&#160;</td><td class="memItemRight" valign="bottom"><b>o2_add_double_or_time</b> (<a class="el" href="group__basics.html#ga19ed1e45bd9c566270c0836d9ec95155">O2type</a> tchar, double d)</td></tr>
<tr class="memdesc:gacbb0200e80da2be7bc1669f4017d4a29"><td class="mdescLeft">&#160;</td><td class="mdescRight">This function supports <a class="el" href="group__lowlevelsend.html#gabe652dd70d04a0a96719c3ecafe48c10" title="add a double to the message (see o2_send_start)">o2_add_double</a> and <a class="el" href="group__lowlevelsend.html#gadd2ddd3f74c78e6017efb8074f2a97da" title="add a time (double) to the message (see o2_send_start)">o2_add_time</a> Normally, you should not call this directly. <br /></td></tr>
<tr class="separator:gacbb0200e80da2be7bc1669f4017d4a29"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gae3967c1eae0cdd47ab0c37be0ba9519e"><td class="memItemLeft" align="right" valign="top"><a id="gae3967c1eae0cdd47ab0c37be0ba9519e" name="gae3967c1eae0cdd47ab0c37be0ba9519e"></a>
<a class="el" href="group__returncodes.html#gae9a85a9a12082ae659af9d047d6d63c9">O2err</a>&#160;</td><td class="memItemRight" valign="bottom"><b>o2_add_int32_or_char</b> (<a class="el" href="group__basics.html#ga19ed1e45bd9c566270c0836d9ec95155">O2type</a> tcode, int32_t i)</td></tr>
<tr class="memdesc:gae3967c1eae0cdd47ab0c37be0ba9519e"><td class="mdescLeft">&#160;</td><td class="mdescRight">This function supports <a class="el" href="group__lowlevelsend.html#ga67cc4cb3061d887e10d353cde06153a8" title="add an int32 to the message (see o2_send_start)">o2_add_int32</a> and <a class="el" href="group__lowlevelsend.html#ga26c1b21c76eadfe636c10d4395f29577" title="add a char to the message (see o2_send_start)">o2_add_char</a> Normally, you should not call this directly. <br /></td></tr>
<tr class="separator:gae3967c1eae0cdd47ab0c37be0ba9519e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga0391ebf433f030d4f578777a1f14cbc0"><td class="memItemLeft" align="right" valign="top"><a id="ga0391ebf433f030d4f578777a1f14cbc0" name="ga0391ebf433f030d4f578777a1f14cbc0"></a>
<a class="el" href="group__returncodes.html#gae9a85a9a12082ae659af9d047d6d63c9">O2err</a>&#160;</td><td class="memItemRight" valign="bottom"><b>o2_add_midi</b> (uint32_t m)</td></tr>
<tr class="memdesc:ga0391ebf433f030d4f578777a1f14cbc0"><td class="mdescLeft">&#160;</td><td class="mdescRight">add a short midi message to the message (see <a class="el" href="group__lowlevelsend.html#ga238373397ff33181587651db5b8c7ec5" title="Prepare to build a message.">o2_send_start</a>) <br /></td></tr>
<tr class="separator:ga0391ebf433f030d4f578777a1f14cbc0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga8a34f89e1fda43b8eb58603909111dda"><td class="memItemLeft" align="right" valign="top"><a id="ga8a34f89e1fda43b8eb58603909111dda" name="ga8a34f89e1fda43b8eb58603909111dda"></a>
<a class="el" href="group__returncodes.html#gae9a85a9a12082ae659af9d047d6d63c9">O2err</a>&#160;</td><td class="memItemRight" valign="bottom"><b>o2_add_only_typecode</b> (<a class="el" href="group__basics.html#ga19ed1e45bd9c566270c0836d9ec95155">O2type</a> typecode)</td></tr>
<tr class="memdesc:ga8a34f89e1fda43b8eb58603909111dda"><td class="mdescLeft">&#160;</td><td class="mdescRight">This function supports <a class="el" href="group__lowlevelsend.html#ga23dfc0a19d8b2f13ea9129fe4b579ff3" title="add &quot;true&quot; to the message (see o2_send_start)">o2_add_true</a>, <a class="el" href="group__lowlevelsend.html#gaad6834ff5891ab1a2a2bb22e83aca551" title="add a &quot;false&quot; to the message (see o2_send_start)">o2_add_false</a>, <a class="el" href="group__lowlevelsend.html#gad0965309bd2c3f3573b48a905394690e" title="add 0 (false) or 1 (true) to the message (see o2_send_start)">o2_add_bool</a>, <a class="el" href="group__lowlevelsend.html#gadb3eece7cb9251bed8318f4b99969aa9" title="add &quot;nil&quot; to the message (see o2_send_start)">o2_add_nil</a>, <a class="el" href="group__lowlevelsend.html#gadc0a8f87c3ba9776ccf99d9a5907450b" title="add &quot;infinitum&quot; to the message (see o2_send_start)">o2_add_infinitum</a>, and others. Normally, you should not call this directly. <br /></td></tr>
<tr class="separator:ga8a34f89e1fda43b8eb58603909111dda"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga6e5d9d23cb654be5a9cae42aad9019df"><td class="memItemLeft" align="right" valign="top"><a class="el" href="group__returncodes.html#gae9a85a9a12082ae659af9d047d6d63c9">O2err</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__lowlevelsend.html#ga6e5d9d23cb654be5a9cae42aad9019df">o2_add_vector</a> (<a class="el" href="group__basics.html#ga19ed1e45bd9c566270c0836d9ec95155">O2type</a> element_type, int length, void *data)</td></tr>
<tr class="memdesc:ga6e5d9d23cb654be5a9cae42aad9019df"><td class="mdescLeft">&#160;</td><td class="mdescRight">add a vector  <a href="group__lowlevelsend.html#ga6e5d9d23cb654be5a9cae42aad9019df">More...</a><br /></td></tr>
<tr class="separator:ga6e5d9d23cb654be5a9cae42aad9019df"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gaf1e7c89662d6aa339493653c3663acab"><td class="memItemLeft" align="right" valign="top"><a class="el" href="group__returncodes.html#gae9a85a9a12082ae659af9d047d6d63c9">O2err</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__lowlevelsend.html#gaf1e7c89662d6aa339493653c3663acab">o2_add_message</a> (<a class="el" href="struct_o2message.html">O2message_ptr</a> msg)</td></tr>
<tr class="memdesc:gaf1e7c89662d6aa339493653c3663acab"><td class="mdescLeft">&#160;</td><td class="mdescRight">add a message to a bundle  <a href="group__lowlevelsend.html#gaf1e7c89662d6aa339493653c3663acab">More...</a><br /></td></tr>
<tr class="separator:gaf1e7c89662d6aa339493653c3663acab"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gaa75269caed0306caaa224c5f0487393b"><td class="memItemLeft" align="right" valign="top"><a class="el" href="struct_o2message.html">O2message_ptr</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__lowlevelsend.html#gaa75269caed0306caaa224c5f0487393b">o2_message_finish</a> (<a class="el" href="group__basics.html#gaec273d81b63336bfb4a41dc38aa9652c">O2time</a> time, const char *address, bool tcp_flag)</td></tr>
<tr class="memdesc:gaa75269caed0306caaa224c5f0487393b"><td class="mdescLeft">&#160;</td><td class="mdescRight">finish and return the message.  <a href="group__lowlevelsend.html#gaa75269caed0306caaa224c5f0487393b">More...</a><br /></td></tr>
<tr class="separator:gaa75269caed0306caaa224c5f0487393b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga2bfee95a5243b1cb9c6a303e858958f1"><td class="memItemLeft" align="right" valign="top"><a class="el" href="struct_o2message.html">O2message_ptr</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__lowlevelsend.html#ga2bfee95a5243b1cb9c6a303e858958f1">o2_service_message_finish</a> (<a class="el" href="group__basics.html#gaec273d81b63336bfb4a41dc38aa9652c">O2time</a> time, const char *service, const char *address, bool tcp_flag)</td></tr>
<tr class="memdesc:ga2bfee95a5243b1cb9c6a303e858958f1"><td class="mdescLeft">&#160;</td><td class="mdescRight">finish and return a message, prepending service name  <a href="group__lowlevelsend.html#ga2bfee95a5243b1cb9c6a303e858958f1">More...</a><br /></td></tr>
<tr class="separator:ga2bfee95a5243b1cb9c6a303e858958f1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gac4a9b6d7202c78b79b1942f6700ca8f2"><td class="memItemLeft" align="right" valign="top"><a class="el" href="group__returncodes.html#gae9a85a9a12082ae659af9d047d6d63c9">O2err</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__lowlevelsend.html#gac4a9b6d7202c78b79b1942f6700ca8f2">o2_send_finish</a> (<a class="el" href="group__basics.html#gaec273d81b63336bfb4a41dc38aa9652c">O2time</a> time, const char *address, bool tcp_flag)</td></tr>
<tr class="memdesc:gac4a9b6d7202c78b79b1942f6700ca8f2"><td class="mdescLeft">&#160;</td><td class="mdescRight">send a message allocated by <a class="el" href="group__lowlevelsend.html#ga238373397ff33181587651db5b8c7ec5" title="Prepare to build a message.">o2_send_start</a>.  <a href="group__lowlevelsend.html#gac4a9b6d7202c78b79b1942f6700ca8f2">More...</a><br /></td></tr>
<tr class="separator:gac4a9b6d7202c78b79b1942f6700ca8f2"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<p >Rather than passing all parameters in one call or letting O2 extract parameters from a message before calling its handler, these functions allow building messages one parameter at a time and extracting message parameters one at a time. The functions operate on "hidden" messages, so these functions are not reentrant.</p>
<p >To build a message, begin by calling <a class="el" href="group__lowlevelsend.html#ga238373397ff33181587651db5b8c7ec5" title="Prepare to build a message.">o2_send_start</a> to allocate a message. Then call one of the <code>o2_add_*()</code> functions to add each parameter. Finally, call either <a class="el" href="group__lowlevelsend.html#gac4a9b6d7202c78b79b1942f6700ca8f2" title="send a message allocated by o2_send_start.">o2_send_finish</a> to send the message. You should not explicitly allocate or deallocate a message using this procedure.</p>
<p >To extract parameters from a message, begin by calling <a class="el" href="group__lowlevelparse.html#ga5743585b7234221d61a9631506403bb9" title="initialize internal state to parse, extract, and coerce message arguments.">o2_extract_start</a> to prepare to get parameters from the message. Then call <a class="el" href="group__lowlevelparse.html#ga639a79ba06d7bf9fda5f255b00e663b4" title="get the next message parameter">o2_get_next</a> to get each parameter. If the result is non-null, a parameter of the requested type was obtained and you can read the parameter from the result. Results other than strings, MIDI, and blobs may only remain valid until the next call to <a class="el" href="group__lowlevelparse.html#ga639a79ba06d7bf9fda5f255b00e663b4" title="get the next message parameter">o2_get_next</a>, so you should use or copy the value before reading the next one. Values that are not coerced (requiring a copy) are left in the O2 message and have the same lifetime as the message. You should not reuse this storage because the message may have multiple destinations; thus, the message content should not be altered.</p>
<p >A by-product of <a class="el" href="group__lowlevelparse.html#ga5743585b7234221d61a9631506403bb9" title="initialize internal state to parse, extract, and coerce message arguments.">o2_extract_start</a> and <a class="el" href="group__lowlevelparse.html#ga639a79ba06d7bf9fda5f255b00e663b4" title="get the next message parameter">o2_get_next</a> is an argument vector (argv) that can be accessed from O2argv. (This is the same argument vector created automatically when a handler is added with <a class="el" href="group__basics.html#gabcdea927caeb653b4f9784955f5dcdb4" title="Add a handler for an address.">o2_method_new</a> when the parse parameter is true.) A possible advantage of using a sequence of <a class="el" href="group__lowlevelparse.html#ga639a79ba06d7bf9fda5f255b00e663b4" title="get the next message parameter">o2_get_next</a> calls rather than simply setting the parse flag is that you can receive messages with various types and numbers of parameters. Also, you can check vector lengths and stop parsing if unacceptable lengths are encountered.</p>
<p ><a class="el" href="group__lowlevelparse.html#ga639a79ba06d7bf9fda5f255b00e663b4" title="get the next message parameter">o2_get_next</a> will perform type conversion if possible when the requested type does not match the actual type. You can determine the original type by reading the type string in the message. The number of parameters is determined by the length of the type string, with some exceptions.</p>
<p >Vectors can be coerced into arrays, in which case each element will be coerced as requested. Arrays can be coerced into vectors if each element of the array can be coerced into the expected vector element type. Vector lengths are provided by the message; there is no way to coerce or limit vector lengths or check that the length matches an expected value. (You can determine the length from the return value and of course you can decide to reject the message if the length is not acceptable.)</p>
<p >When a vector is returned, the argument vector has a single element that points to a vector descriptor (the "v" field), which contains the vector element types and the length of the vector (&gt;= 0).</p>
<p >When an array is returned, the argument vector contains the value o2_got_start_array followed by an O2arg_ptr for each element of the array, followed by o2_got_end_array.</p>
<p >When types T (True), F (False), I (Infinitum), or N (Nil) are in the message, there is an entry in the argument vector; however, there is no data associated with these types (other than the type itself), so the pointers should not be used except to test for non-NULL.</p>
<p >In all other cases, the argument vector contains data corresponding to the data item in the message. This may be a pointer into the actual message or a pointer to a temporary location in case the element was coerced to a different type.</p>
<p >When the actual type code in the message is in "TFIN" you should call <a class="el" href="group__lowlevelparse.html#ga639a79ba06d7bf9fda5f255b00e663b4" title="get the next message parameter">o2_get_next</a> even though there is no corresponding data stored in the message. The return value, if successful, is a non-NULL pointer that points within or just after the message, but you must not dereference this pointer. (NULL indicates failure as with other type codes. One rationale for calling <a class="el" href="group__lowlevelparse.html#ga639a79ba06d7bf9fda5f255b00e663b4" title="get the next message parameter">o2_get_next</a> even when there is nothing to "get" is that you can call o2_get_next(O2_BOOL) to retrieve 'T', 'F', or 'B' types as an int32_t which is 0 or 1. The 'I' and 'N' types are never coerced.</p>
<p >Normally, you should not free the message because normally you are accessing the message in a handler and the message will be freed by the O2 message dispatch code that called the handler.</p>
<p >Arrays denoted by [...] in the type string are handled in a somewhat special way:</p>
<p >If an array is expected, call o2_get_next(O2_ARRAY_START). The return value will be o2_got_start_array on success, or NULL if there is no array. The actual value in the message may be an array or a vector. If it is a vector, the elements of the vector will be coerced to the types requested in successive calls to <a class="el" href="group__lowlevelparse.html#ga639a79ba06d7bf9fda5f255b00e663b4" title="get the next message parameter">o2_get_next</a>. After retrieving array elements, call o2_get_next(O2_ARRAY_END). The return value should be o2_got_end_array. NULL is returned if there is an error. For example, suppose you call <a class="el" href="group__lowlevelparse.html#ga639a79ba06d7bf9fda5f255b00e663b4" title="get the next message parameter">o2_get_next</a> with characters from the type string "[id]" and the actual parameter is a vector integers ("vi") of length 2. The return values from <a class="el" href="group__lowlevelparse.html#ga639a79ba06d7bf9fda5f255b00e663b4" title="get the next message parameter">o2_get_next</a> will be o2_got_start_array, an O2arg_ptr to an integer, an O2arg_ptr to a double (coerced from the integer vector), and finally o2_got_end_array. If the vector length is 1, the third return value will be NULL. If the vector length is 3 (or more), the fourth return value will be NULL rather than o2_got_end_array.</p>
<p >The special values o2_got_start_array and o2_got_end_array are not valid structures. In other words, fields such as o2_got_start_array-&gt;i32 are never valid or meaningful. Instead, o2_got_start_array and o2_got_end_array are just 'tokens' used to indicate success in type checking. These values are distinct from NULL, which indicates a type incompatibility.</p>
<p >Note also that vector elements cannot be retrieved directly without calling o2_get_next(O2_VECTOR) or o2_get_next(O2_ARRAY_START). For example, if the actual argument is a two-element integer vector ("vi"), a call to o2_get_next(O2_INT32) will fail unless it is preceded by o2_get_next(O2_VECTOR) or o2_get_next(O2_ARRAY_START).</p>
<p >If a vector is expected, call o2_get_next(O2_VECTOR). The return value will be a non-null O2arg_ptr if the next argument in the actual message is a vector or array, and otherwise NULL. You should not dereference this return value yet...</p>
<p >You <em>must</em> then call <a class="el" href="group__lowlevelparse.html#ga639a79ba06d7bf9fda5f255b00e663b4" title="get the next message parameter">o2_get_next</a> with the desired type for vector elements. The return value will be an O2arg_ptr (which will be the same value previously returned) containing v.typ set to the desired type, v.len still set to the number of elements, and v.vi, v.vh, v.vd, v.vf, or v.vc pointing to the possibly coerced elements.</p>
<p >Note that the sequence of calling <a class="el" href="group__lowlevelparse.html#ga639a79ba06d7bf9fda5f255b00e663b4" title="get the next message parameter">o2_get_next</a> twice for vectors corresponds to the two type characters used to encode them, e.g. "vi" indicates a vector of integers.</p>
<p >Coercion is supported as follows. An "x" means that coercion is provided from the type indicated on some row to the type corresponding to the column ("\*" indicates special consideration described below.) </p><pre class="fragment">*      i h f d t s S T F B b m c N I
*    i x x x x x     * * x            32-bit int
*    h x x x x x     * * x            64-bit int
*    f x x x x x     * * x            float
*    d x x x x x     * * x            double
*    t x x x x x                      time
*    s           x x                  String
*    S           x x                  Symbol
*    T x x x x       x   x            True
*    F x x x x         x x            False
*    B x x x x       * * x            Boolean
*    b                     x          blob
*    m                       x        MIDI
*    c                         x      character
*    N                           x    Nil
*    I                             x  Infinitum
* </pre><p> *Entries marked with "*": Coercion is from 0 to False and from non-zero to True.</p>
<p >Coercion fails in all cases not marked. </p>
<h2 class="groupheader">Function Documentation</h2>
<a id="gaf1e7c89662d6aa339493653c3663acab" name="gaf1e7c89662d6aa339493653c3663acab"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gaf1e7c89662d6aa339493653c3663acab">&#9670;&nbsp;</a></span>o2_add_message()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group__returncodes.html#gae9a85a9a12082ae659af9d047d6d63c9">O2err</a> o2_add_message </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="struct_o2message.html">O2message_ptr</a>&#160;</td>
          <td class="paramname"><em>msg</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>add a message to a bundle </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">msg</td><td>a message or bundle to add</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>O2_SUCCESS</dd></dl>
<p>This function can be called after <a class="el" href="group__lowlevelsend.html#ga238373397ff33181587651db5b8c7ec5" title="Prepare to build a message.">o2_send_start</a>. If you add a message to a bundle with this function, you must not call any other <code>o2_add_*()</code> functions. E.g. do not call both <a class="el" href="group__lowlevelsend.html#ga67cc4cb3061d887e10d353cde06153a8" title="add an int32 to the message (see o2_send_start)">o2_add_int32</a> and <a class="el" href="group__lowlevelsend.html#gaf1e7c89662d6aa339493653c3663acab" title="add a message to a bundle">o2_add_message</a> on the same message.</p>
<p >This function does NOT free msg. Probably you should call O2_FREE(msg) after calling o2_add_message(msg). </p>

</div>
</div>
<a id="ga6e5d9d23cb654be5a9cae42aad9019df" name="ga6e5d9d23cb654be5a9cae42aad9019df"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga6e5d9d23cb654be5a9cae42aad9019df">&#9670;&nbsp;</a></span>o2_add_vector()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group__returncodes.html#gae9a85a9a12082ae659af9d047d6d63c9">O2err</a> o2_add_vector </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="group__basics.html#ga19ed1e45bd9c566270c0836d9ec95155">O2type</a>&#160;</td>
          <td class="paramname"><em>element_type</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>length</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>data</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>add a vector </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">element_type</td><td>the type of the vector elements </td></tr>
    <tr><td class="paramname">length</td><td>the number of vector elements </td></tr>
    <tr><td class="paramname">data</td><td>the vector elements; arranged sequentially in memory in a format determined by element_type. The element type is restricted to a character in "ifhtdc" </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="gaf161821748da26ebc2d5d56df0b42c4e" name="gaf161821748da26ebc2d5d56df0b42c4e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gaf161821748da26ebc2d5d56df0b42c4e">&#9670;&nbsp;</a></span>o2_blob_new()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="struct_o2blob.html">O2blob_ptr</a> o2_blob_new </td>
          <td>(</td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>size</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Allocate a blob. </p>
<p >Allocate a blob and initialize the size field. If the return address is not NULL, copy data (up to length size) to <code>blob-&gt;data</code>. You can change <code>blob-&gt;size</code>, but of course you should not set <code>blob-&gt;size</code> greater than the <code>size</code> parameter originally passed to <a class="el" href="group__lowlevelsend.html#gaf161821748da26ebc2d5d56df0b42c4e" title="Allocate a blob.">o2_blob_new</a>.</p>
<p >Caller is responsible for freeing the returned blob using #O2_FREE.</p>
<p >A constructed blob can be added to a message. If you add parameters to a message one-at-a-time, you can use <a class="el" href="group__lowlevelsend.html#ga638dc972d1a186e40b24b9065820ffaa" title="add an O2blob to the message (see o2_send_start), where the blob is specified by a size and a data ad...">o2_add_blob_data</a> to copy data directly to a message without first allocating a blob and copying data into it.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">size</td><td>The size of the data to be added to the blob</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>the address of the new blob or NULL if memory cannot be allocated. </dd></dl>

</div>
</div>
<a id="gaa75269caed0306caaa224c5f0487393b" name="gaa75269caed0306caaa224c5f0487393b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gaa75269caed0306caaa224c5f0487393b">&#9670;&nbsp;</a></span>o2_message_finish()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="struct_o2message.html">O2message_ptr</a> o2_message_finish </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="group__basics.html#gaec273d81b63336bfb4a41dc38aa9652c">O2time</a>&#160;</td>
          <td class="paramname"><em>time</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>address</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>tcp_flag</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>finish and return the message. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">time</td><td>the timestamp for the message (0 for immediate) </td></tr>
    <tr><td class="paramname">address</td><td>the O2 address pattern for the message </td></tr>
    <tr><td class="paramname">tcp_flag</td><td>boolean if true, send message reliably</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>the address of the completed message, or NULL on error</dd></dl>
<p>The message must be freed using #O2_FREE or by calling <a class="el" href="group__basics.html#ga48e2b7642d9432367a621a9e199d3067" title="Send an O2 message. (See also macros o2_send and o2_send_cmd).">o2_message_send</a>. If the message is a bundle (you have added messages using <a class="el" href="group__lowlevelsend.html#gaf1e7c89662d6aa339493653c3663acab" title="add a message to a bundle">o2_add_message</a>), the address should be '#' followed by the service name, e.g. "#service1". </p>

</div>
</div>
<a id="gac4a9b6d7202c78b79b1942f6700ca8f2" name="gac4a9b6d7202c78b79b1942f6700ca8f2"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gac4a9b6d7202c78b79b1942f6700ca8f2">&#9670;&nbsp;</a></span>o2_send_finish()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group__returncodes.html#gae9a85a9a12082ae659af9d047d6d63c9">O2err</a> o2_send_finish </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="group__basics.html#gaec273d81b63336bfb4a41dc38aa9652c">O2time</a>&#160;</td>
          <td class="paramname"><em>time</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>address</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>tcp_flag</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>send a message allocated by <a class="el" href="group__lowlevelsend.html#ga238373397ff33181587651db5b8c7ec5" title="Prepare to build a message.">o2_send_start</a>. </p>
<p >This is similar to calling <a class="el" href="group__basics.html#ga8c15f91d7d95ec32345c043409e6a045" title="Construct and send O2 message with best effort protocol.">o2_send</a>, except you use a three-step process of (1) allocate the message with <a class="el" href="group__lowlevelsend.html#ga238373397ff33181587651db5b8c7ec5" title="Prepare to build a message.">o2_send_start</a>, (2) add parameters to it using <code>o2_add_</code> functions, and (3) call <a class="el" href="group__lowlevelsend.html#gac4a9b6d7202c78b79b1942f6700ca8f2" title="send a message allocated by o2_send_start.">o2_send_finish</a> to send it.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">time</td><td>the timestamp for the message </td></tr>
    <tr><td class="paramname">address</td><td>the destination address including the service name. To send a bundle to a service named foo, use the address "#foo". </td></tr>
    <tr><td class="paramname">tcp_flag</td><td>boolean that says to send the message reliably. Normally, true means use TCP, and false means use UDP.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd><a class="el" href="group__returncodes.html#ggae9a85a9a12082ae659af9d047d6d63c9a68055f2c93d5f18c40ce06c0569ab3f6" title="function was successful">O2_SUCCESS</a> if success.</dd></dl>
<p>Typically, <a class="el" href="group__lowlevelsend.html#gac4a9b6d7202c78b79b1942f6700ca8f2" title="send a message allocated by o2_send_start.">o2_send_finish</a> returns <a class="el" href="group__returncodes.html#ggae9a85a9a12082ae659af9d047d6d63c9a68055f2c93d5f18c40ce06c0569ab3f6" title="function was successful">O2_SUCCESS</a>. Messages can be queued for later delivery, forwarded for remote delivery, or delivered only to a tapper (see <a class="el" href="group__basics.html#gaec9b8b4f89e7f25cd6c8048077d34709" title="install tap to copy messages from one service to another">o2_tap</a>), so success and failure are not always easy to distinguish. One (probably) clear case is that if a message is sent to a non-existent service, <a class="el" href="group__returncodes.html#ggae9a85a9a12082ae659af9d047d6d63c9a5a0a1c03dff6701c52833e1dd0baa642" title="path to handler specifies non-existant service">O2_NO_SERVICE</a> is returned. <a class="el" href="group__returncodes.html#ggae9a85a9a12082ae659af9d047d6d63c9a0fe62d450d5e5fcb1fb02bc74b7ef250" title="timed message but time is unknown">O2_NO_CLOCK</a> is returned if there is no established clock and the message has a non-zero timestamp. For other situations, see <a class="el" href="group__basics.html#gaadae6f600a7406c063543b9bb709e102" title="Enable/Disable warnings for dropped messages.">o2_message_warnings</a>. </p>

</div>
</div>
<a id="ga238373397ff33181587651db5b8c7ec5" name="ga238373397ff33181587651db5b8c7ec5"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga238373397ff33181587651db5b8c7ec5">&#9670;&nbsp;</a></span>o2_send_start()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group__returncodes.html#gae9a85a9a12082ae659af9d047d6d63c9">O2err</a> o2_send_start </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Prepare to build a message. </p>
<dl class="section return"><dt>Returns</dt><dd><a class="el" href="group__returncodes.html#ggae9a85a9a12082ae659af9d047d6d63c9a68055f2c93d5f18c40ce06c0569ab3f6" title="function was successful">O2_SUCCESS</a> if success, <a class="el" href="group__returncodes.html#ggae9a85a9a12082ae659af9d047d6d63c9af3cd38a1ac5bca4865c3f0c7586ab0c8" title="a non-specific error occurred.">O2_FAIL</a> if not.</dd></dl>
<p>Allocates a "hidden" message in preparation for adding parameters. After calling this, you should call <code>o2_add_</code> functions such as <a class="el" href="group__lowlevelsend.html#ga67cc4cb3061d887e10d353cde06153a8" title="add an int32 to the message (see o2_send_start)">o2_add_int32</a> to add parameters. Then call <a class="el" href="group__lowlevelsend.html#gac4a9b6d7202c78b79b1942f6700ca8f2" title="send a message allocated by o2_send_start.">o2_send_finish</a> to send the message. </p>

</div>
</div>
<a id="ga2bfee95a5243b1cb9c6a303e858958f1" name="ga2bfee95a5243b1cb9c6a303e858958f1"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga2bfee95a5243b1cb9c6a303e858958f1">&#9670;&nbsp;</a></span>o2_service_message_finish()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="struct_o2message.html">O2message_ptr</a> o2_service_message_finish </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="group__basics.html#gaec273d81b63336bfb4a41dc38aa9652c">O2time</a>&#160;</td>
          <td class="paramname"><em>time</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>service</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>address</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>tcp_flag</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>finish and return a message, prepending service name </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">time</td><td>the timestamp for the message (0 for immediate) </td></tr>
    <tr><td class="paramname">service</td><td>a string to prepend to address or NULL. </td></tr>
    <tr><td class="paramname">address</td><td>the O2 address pattern for the message. </td></tr>
    <tr><td class="paramname">tcp_flag</td><td>boolean if true, send message reliably</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>the address of the completed message, or NULL on error</dd></dl>
<p>The message must be freed using #O2_FREE or by calling <a class="el" href="group__basics.html#ga48e2b7642d9432367a621a9e199d3067" title="Send an O2 message. (See also macros o2_send and o2_send_cmd).">o2_message_send</a>. This function is intended to be used to forward OSC messages to a service, but it is the implementation of <a class="el" href="group__lowlevelsend.html#gaa75269caed0306caaa224c5f0487393b" title="finish and return the message.">o2_message_finish</a>, which simply passes NULL for service. </p>

</div>
</div>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by&#160;<a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.2
</small></address>
</body>
</html>
